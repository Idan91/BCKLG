{"ast":null,"code":"var _jsxFileName = \"/Users/Idan/Documents/GitHub/Idan91/BCKLG/bcklg/src/components/BCKLG Pages/BCKLG.js\";\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\"; // Redux\n\nimport { connect } from \"react-redux\";\nimport { logoutUser, updateGames, sendEmailVerification } from \"../../redux/actions/userActions\";\nimport MyBacklog from \"./MyBacklog\";\nimport Game from \"../../model/Game\";\nimport { searchGame } from \"../../model/Api\";\nimport { loadUserDataFromProps } from \"../../util/Utils\";\n\nclass BCKLG extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      navItems: [\"My Backlog\", \"Account\"],\n      isLoaded: false,\n      rawger: \"\",\n      pageIndex: 0,\n      navbarClasses: [],\n      username: \"\",\n      games: [],\n      verified: \"\",\n      userData: \"\"\n    };\n\n    this.startRawger = async () => {\n      const Rawger = require(\"rawger\");\n\n      await Rawger({}).then(data => {\n        this.setState({\n          rawger: data\n        });\n      });\n    };\n\n    this.getGameFromApi = async i_GameSlug => {\n      const Rawger = require(\"rawger\");\n\n      const {\n        games\n      } = await Rawger({});\n      const results = await games.get(i_GameSlug).then(result => {\n        return result.get();\n      }).then(data => {\n        return data.raw;\n      });\n      return results;\n    };\n\n    this.getGameFromList = i_Game => {\n      const {\n        games\n      } = loadUserDataFromProps(this.props);\n      const myGameList = games;\n      let myGame;\n      myGameList.forEach(game => {\n        if (i_Game === game.slug) {\n          myGame = game;\n        }\n      });\n      return myGame;\n    };\n\n    this.editGame = (i_Game, i_Platform, i_Status) => {\n      const {\n        username,\n        games\n      } = loadUserDataFromProps(this.props);\n      const myGameList = games;\n      const newGame = new Game(i_Game.raw, i_Platform, i_Status);\n      const newGameList = myGameList.map(game => {\n        if (game.name === i_Game.raw.name) {\n          return newGame;\n        } else {\n          return game;\n        }\n      });\n      this.props.updateGames(username, newGameList);\n    };\n\n    this.deleteGame = i_Game => {\n      const {\n        username,\n        games\n      } = loadUserDataFromProps(this.props);\n      const myGameList = games;\n      const newGameList = myGameList.filter(game => {\n        let listGame;\n\n        if (!(game.name === i_Game.raw.name)) {\n          listGame = game;\n        }\n\n        return listGame;\n      });\n      this.props.updateGames(username, newGameList);\n    };\n\n    this.loadUserDataFromProps = () => {\n      const {\n        user: {\n          credentials: {\n            username,\n            games,\n            emailVerified\n          },\n          loading,\n          authenticated\n        }\n      } = this.props;\n      const {\n        user\n      } = this.props;\n      return {\n        user,\n        username,\n        games,\n        emailVerified,\n        loading,\n        authenticated\n      };\n    };\n\n    this.onSwitchPage = i_Index => {\n      this.setState({\n        pageIndex: i_Index\n      });\n    };\n\n    this.handleLogout = () => {\n      try {\n        this.props.logoutUser();\n        this.setState({\n          popupVisible: false\n        });\n        this.props.history.push(\"/login\");\n      } catch (err) {\n        console.log(err);\n      }\n    };\n\n    this.renderBacklog = () => {\n      const {\n        games,\n        emailVerified,\n        loading,\n        authenticated\n      } = loadUserDataFromProps(this.props);\n      const content = React.createElement(\"div\", {\n        className: \"inner-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(MyBacklog, {\n        pageName: \"My Backlog\",\n        games: games,\n        handleSearch: searchGame,\n        handleAddGame: this.addGameToList,\n        handleEditGame: this.editGame,\n        handleDeleteGame: this.deleteGame,\n        handleGetGameFromApi: this.getGameFromApi,\n        handleGetGameFromList: this.getGameFromList,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }));\n      const loader = React.createElement(\"div\", {\n        className: \"page-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"loader-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, loading && React.createElement(\"div\", {\n        className: \"loader\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      })))));\n      const unverified = React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"page-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"main\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"center-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"page-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, \"Your email is not verified!\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        className: \"unverified-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, \"In order to use BCKLG, please click the button below and follow the instructions sent your email.\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"btn link\",\n        onClick: this.props.sendEmailVerification,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, \"Send verification email\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, \"Once you've verified your email, logout and re-login to use BCKLG.\"), React.createElement(\"button\", {\n        className: \"btn nav-link link btn-pop-up\",\n        onClick: this.handleLogout,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, \"Logout\"))))));\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, !loading ? authenticated ? emailVerified ? content : unverified : this.props.history.push(\"/\") : loader);\n    };\n  }\n\n  /* #region  LIFE-CYCLE METHODS */\n  componentDidMount() {\n    this.startRawger();\n  }\n  /* #endregion */\n\n  /* #region  API METHODS */\n\n\n  /* #endregion */\n  render() {\n    return this.renderBacklog();\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  user: state.user\n});\n\nconst mapActionsToProps = {\n  logoutUser,\n  updateGames,\n  sendEmailVerification\n};\nBCKLG.propTypes = {\n  user: PropTypes.object.isRequired,\n  logoutUser: PropTypes.func.isRequired,\n  updateGames: PropTypes.func.isRequired,\n  sendEmailVerification: PropTypes.func.isRequired\n};\nexport default connect(mapStateToProps, mapActionsToProps)(BCKLG);","map":{"version":3,"sources":["/Users/Idan/Documents/GitHub/Idan91/BCKLG/bcklg/src/components/BCKLG Pages/BCKLG.js"],"names":["React","Component","PropTypes","connect","logoutUser","updateGames","sendEmailVerification","MyBacklog","Game","searchGame","loadUserDataFromProps","BCKLG","state","navItems","isLoaded","rawger","pageIndex","navbarClasses","username","games","verified","userData","startRawger","Rawger","require","then","data","setState","getGameFromApi","i_GameSlug","results","get","result","raw","getGameFromList","i_Game","props","myGameList","myGame","forEach","game","slug","editGame","i_Platform","i_Status","newGame","newGameList","map","name","deleteGame","filter","listGame","user","credentials","emailVerified","loading","authenticated","onSwitchPage","i_Index","handleLogout","popupVisible","history","push","err","console","log","renderBacklog","content","addGameToList","loader","unverified","componentDidMount","render","mapStateToProps","mapActionsToProps","propTypes","object","isRequired","func"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n// Redux\nimport { connect } from \"react-redux\";\nimport {\n  logoutUser,\n  updateGames,\n  sendEmailVerification\n} from \"../../redux/actions/userActions\";\nimport MyBacklog from \"./MyBacklog\";\nimport Game from \"../../model/Game\";\nimport { searchGame } from \"../../model/Api\";\nimport { loadUserDataFromProps } from \"../../util/Utils\";\n\nclass BCKLG extends Component {\n  state = {\n    navItems: [\"My Backlog\", \"Account\"],\n    isLoaded: false,\n    rawger: \"\",\n    pageIndex: 0,\n    navbarClasses: [],\n    username: \"\",\n    games: [],\n    verified: \"\",\n    userData: \"\"\n  };\n\n  /* #region  LIFE-CYCLE METHODS */\n  componentDidMount() {\n    this.startRawger();\n  }\n  /* #endregion */\n\n  /* #region  API METHODS */\n  startRawger = async () => {\n    const Rawger = require(\"rawger\");\n    await Rawger({}).then(data => {\n      this.setState({\n        rawger: data\n      });\n    });\n  };\n\n  getGameFromApi = async i_GameSlug => {\n    const Rawger = require(\"rawger\");\n    const { games } = await Rawger({});\n    const results = await games\n      .get(i_GameSlug)\n      .then(result => {\n        return result.get();\n      })\n      .then(data => {\n        return data.raw;\n      });\n\n    return results;\n  };\n\n  /* #endregion */\n\n  /* #region  GAME METHODS */\n  getGameFromList = i_Game => {\n    const { games } = loadUserDataFromProps(this.props);\n\n    const myGameList = games;\n    let myGame;\n\n    myGameList.forEach(game => {\n      if (i_Game === game.slug) {\n        myGame = game;\n      }\n    });\n\n    return myGame;\n  };\n\n  editGame = (i_Game, i_Platform, i_Status) => {\n    const { username, games } = loadUserDataFromProps(this.props);\n\n    const myGameList = games;\n    const newGame = new Game(i_Game.raw, i_Platform, i_Status);\n\n    const newGameList = myGameList.map(game => {\n      if (game.name === i_Game.raw.name) {\n        return newGame;\n      } else {\n        return game;\n      }\n    });\n\n    this.props.updateGames(username, newGameList);\n  };\n\n  deleteGame = i_Game => {\n    const { username, games } = loadUserDataFromProps(this.props);\n\n    const myGameList = games;\n\n    const newGameList = myGameList.filter(game => {\n      let listGame;\n      if (!(game.name === i_Game.raw.name)) {\n        listGame = game;\n      }\n      return listGame;\n    });\n\n    this.props.updateGames(username, newGameList);\n  };\n\n  loadUserDataFromProps = () => {\n    const {\n      user: {\n        credentials: { username, games, emailVerified },\n        loading,\n        authenticated\n      }\n    } = this.props;\n\n    const { user } = this.props;\n\n    return { user, username, games, emailVerified, loading, authenticated };\n  };\n  /* #endregion */\n\n  /* #region  UI METHODS */\n  onSwitchPage = i_Index => {\n    this.setState({\n      pageIndex: i_Index\n    });\n  };\n\n  handleLogout = () => {\n    try {\n      this.props.logoutUser();\n      this.setState({\n        popupVisible: false\n      });\n      this.props.history.push(\"/login\");\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  renderBacklog = () => {\n    const {\n      games,\n      emailVerified,\n      loading,\n      authenticated\n    } = loadUserDataFromProps(this.props);\n\n    const content = (\n      <div className=\"inner-body\">\n        <MyBacklog\n          pageName=\"My Backlog\"\n          games={games}\n          handleSearch={searchGame}\n          handleAddGame={this.addGameToList}\n          handleEditGame={this.editGame}\n          handleDeleteGame={this.deleteGame}\n          handleGetGameFromApi={this.getGameFromApi}\n          handleGetGameFromList={this.getGameFromList}\n        />\n      </div>\n    );\n\n    const loader = (\n      <div className=\"page-container\">\n        <div className=\"main\">\n          <div className=\"content\">\n            <div className=\"loader-container\">\n              {loading && <div className=\"loader\" />}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n\n    const unverified = (\n      <React.Fragment>\n        <div className=\"page-container\">\n          <div className=\"main\">\n            <div className=\"content\">\n              <div className=\"center-container\">\n                <h2 className=\"page-title\">Your email is not verified!</h2>\n                <br />\n                <p className=\"unverified-body\">\n                  In order to use BCKLG, please click the button below and\n                  follow the instructions sent your email.\n                </p>\n                <br />\n                <button\n                  className=\"btn link\"\n                  onClick={this.props.sendEmailVerification}\n                >\n                  Send verification email\n                </button>\n                <br />\n                <br />\n                <p>\n                  Once you've verified your email, logout and re-login to use\n                  BCKLG.\n                </p>\n                <button\n                  className=\"btn nav-link link btn-pop-up\"\n                  onClick={this.handleLogout}\n                >\n                  Logout\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </React.Fragment>\n    );\n\n    return (\n      <React.Fragment>\n        {!loading\n          ? authenticated\n            ? emailVerified\n              ? content\n              : unverified\n            : this.props.history.push(\"/\")\n          : loader}\n      </React.Fragment>\n    );\n  };\n  /* #endregion */\n\n  render() {\n    return this.renderBacklog();\n  }\n}\n\nconst mapStateToProps = state => ({\n  user: state.user\n});\n\nconst mapActionsToProps = {\n  logoutUser,\n  updateGames,\n  sendEmailVerification\n};\n\nBCKLG.propTypes = {\n  user: PropTypes.object.isRequired,\n  logoutUser: PropTypes.func.isRequired,\n  updateGames: PropTypes.func.isRequired,\n  sendEmailVerification: PropTypes.func.isRequired\n};\n\nexport default connect(mapStateToProps, mapActionsToProps)(BCKLG);\n"]},"metadata":{},"sourceType":"module"}