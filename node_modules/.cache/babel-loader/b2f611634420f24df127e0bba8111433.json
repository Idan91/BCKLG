{"ast":null,"code":"import _regeneratorRuntime from\"/Users/Idan/Projects/Dev/GitHub/BCKLG/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/Idan/Projects/Dev/GitHub/BCKLG/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/Idan/Projects/Dev/GitHub/BCKLG/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/Idan/Projects/Dev/GitHub/BCKLG/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/Idan/Projects/Dev/GitHub/BCKLG/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/Idan/Projects/Dev/GitHub/BCKLG/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/Idan/Projects/Dev/GitHub/BCKLG/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import Card from\"./Card\";import GameFocus from\"./GameFocus\";var Cards=/*#__PURE__*/function(_Component){_inherits(Cards,_Component);function Cards(){var _getPrototypeOf2;var _this;_classCallCheck(this,Cards);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Cards)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={gameFocusVisible:false,gameForFocus:\"\",gameFocus:\"\"};_this.handleCardClick=function(event){var target=event.target;while(!target.classList.value.includes(\"game-card\")){target=target.parentNode;}var targetGame=target;var gameSlug=targetGame.getAttribute(\"slug\");if(_this.props.currentPage===\"My Backlog\"){_this.props.handleToggleFilter(\"hide\");}_this.renderGameFocus(gameSlug);};_this.drawCards=function(){var cardsArr=_this.props.games;var cardDisplay;cardDisplay=cardsArr.map(function(item,index){return React.createElement(Card,{key:index,game:item,handleClick:_this.handleCardClick,currentPage:_this.props.currentPage});});return cardDisplay;};_this.renderGameFocus=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(i_Game){var game;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(_this.props.currentPage===\"My Backlog\"){game=_this.props.handleGetGameFromList(i_Game);_this.setState({gameFocusVisible:true,gameForFocus:game,gameFocus:React.createElement(GameFocus,{game:game,currentPage:_this.props.currentPage,handleEditGame:_this.props.handleEditGame,handleDeleteGame:_this.props.handleDeleteGame,handleGetGameFromApi:_this.props.handleGetGameFromApi,handleClose:_this.hideGameFocus})});}else{try{_this.props.handleGetGameFromApi(i_Game).then(function(game){_this.setState({gameFocusVisible:true,gameForFocus:game,gameFocus:React.createElement(GameFocus,{game:game,currentPage:_this.props.parentComponent,handleAddGame:_this.props.handleAddGame,handleGetGameFromApi:_this.props.handleGetGameFromApi,handleSearchVisibility:_this.props.handleSearchVisibility,handleClose:_this.hideGameFocus})});});}catch(err){console.log(err);}}case 1:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.hideGameFocus=function(){_this.setState({gameFocusVisible:false});if(_this.props.currentPage===\"Add Game\"){_this.props.handleSearchVisibility();}else if(_this.props.currentPage===\"My Backlog\"){_this.props.handleToggleFilter(\"show\");}};return _this;}_createClass(Cards,[{key:\"renderItems\",value:function renderItems(){if(this.state.gameFocusVisible){return this.state.gameFocus;}else{return this.drawCards();}}},{key:\"render\",value:function render(){return React.createElement(React.Fragment,null,React.createElement(\"br\",null),this.renderItems());}}]);return Cards;}(Component);export default Cards;","map":{"version":3,"sources":["/Users/Idan/Projects/Dev/GitHub/BCKLG/src/components/UI Elements/Cards.js"],"names":["React","Component","Card","GameFocus","Cards","state","gameFocusVisible","gameForFocus","gameFocus","handleCardClick","event","target","classList","value","includes","parentNode","targetGame","gameSlug","getAttribute","props","currentPage","handleToggleFilter","renderGameFocus","drawCards","cardsArr","games","cardDisplay","map","item","index","i_Game","game","handleGetGameFromList","setState","handleEditGame","handleDeleteGame","handleGetGameFromApi","hideGameFocus","then","parentComponent","handleAddGame","handleSearchVisibility","err","console","log","renderItems"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Card from \"./Card\";\nimport GameFocus from \"./GameFocus\";\n\nclass Cards extends Component {\n  state = {\n    gameFocusVisible: false,\n    gameForFocus: \"\",\n    gameFocus: \"\"\n  };\n\n  handleCardClick = event => {\n    let target = event.target;\n\n    while (!target.classList.value.includes(\"game-card\")) {\n      target = target.parentNode;\n    }\n\n    const targetGame = target;\n\n    const gameSlug = targetGame.getAttribute(\"slug\");\n\n    if (this.props.currentPage === \"My Backlog\") {\n      this.props.handleToggleFilter(\"hide\");\n    }\n    this.renderGameFocus(gameSlug);\n  };\n\n  drawCards = () => {\n    const cardsArr = this.props.games;\n\n    let cardDisplay;\n\n    cardDisplay = cardsArr.map((item, index) => {\n      return (\n        <Card\n          key={index}\n          game={item}\n          handleClick={this.handleCardClick}\n          currentPage={this.props.currentPage}\n        />\n      );\n    });\n\n    return cardDisplay;\n  };\n\n  renderGameFocus = async i_Game => {\n    if (this.props.currentPage === \"My Backlog\") {\n      const game = this.props.handleGetGameFromList(i_Game);\n\n      this.setState({\n        gameFocusVisible: true,\n        gameForFocus: game,\n        gameFocus: (\n          <GameFocus\n            game={game}\n            currentPage={this.props.currentPage}\n            handleEditGame={this.props.handleEditGame}\n            handleDeleteGame={this.props.handleDeleteGame}\n            handleGetGameFromApi={this.props.handleGetGameFromApi}\n            handleClose={this.hideGameFocus}\n          />\n        )\n      });\n    } else {\n      try {\n        this.props.handleGetGameFromApi(i_Game).then(game => {\n          this.setState({\n            gameFocusVisible: true,\n            gameForFocus: game,\n            gameFocus: (\n              <GameFocus\n                game={game}\n                currentPage={this.props.parentComponent}\n                handleAddGame={this.props.handleAddGame}\n                handleGetGameFromApi={this.props.handleGetGameFromApi}\n                handleSearchVisibility={this.props.handleSearchVisibility}\n                handleClose={this.hideGameFocus}\n              />\n            )\n          });\n        });\n      } catch (err) {\n        console.log(err);\n      }\n    }\n  };\n\n  hideGameFocus = () => {\n    this.setState({\n      gameFocusVisible: false\n    });\n    if (this.props.currentPage === \"Add Game\") {\n      this.props.handleSearchVisibility();\n    } else if (this.props.currentPage === \"My Backlog\") {\n      this.props.handleToggleFilter(\"show\");\n    }\n  };\n\n  renderItems() {\n    if (this.state.gameFocusVisible) {\n      return this.state.gameFocus;\n    } else {\n      return this.drawCards();\n    }\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <br />\n        {this.renderItems()}\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Cards;\n"]},"metadata":{},"sourceType":"module"}