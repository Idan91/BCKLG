{"ast":null,"code":"import{SET_USER,SET_ERRORS,CLEAR_ERRORS,LOADING_UI,LOADING_USER,SET_UNAUTHENTICATED}from\"../types\";import axios from\"axios\";var config={apiKey:\"AIzaSyBk066lHfZjW5w5vgzUAjXfIeVhvyqZiLE\",authDomain:\"bcklg-6b059.firebaseapp.com\",databaseURL:\"https://bcklg-6b059.firebaseio.com\",projectId:\"bcklg-6b059\",storageBucket:\"bcklg-6b059.appspot.com\",messagingSenderId:\"337945780002\",appId:\"1:337945780002:web:d4d3fbc3659c7094a58f7b\",measurementId:\"G-13G073NX99\"};var firebase=require(\"firebase\");firebase.initializeApp(config);export var loginUser=function loginUser(userData,history){return function(dispatch){dispatch({type:LOADING_UI});axios.post(\"/login\",userData).then(function(result){setAuthrizationHeader(result.data.token);dispatch(getUserData());dispatch({type:CLEAR_ERRORS});history.push(\"/my-backlog\");}).catch(function(err){dispatch({type:SET_ERRORS,payload:err.response.data});});};};export var signInWithFacebook=function signInWithFacebook(history){return function(dispatch){var provider=new firebase.auth.FacebookAuthProvider();firebase.auth().signInWithPopup(provider).then(function(result){var token=result.credential.accessToken;var user=result.user;console.log(\"reuslt\",result);return{token:token,user:user};}).then(function(data){var token=data.token,user=data.user;console.log(\"data\",data);setAuthrizationHeader(token);dispatch(getUserData());dispatch({type:CLEAR_ERRORS});history.push(\"/my-backlog\");}).catch(function(err){console.error(err);});// axios\n//   .get(\"/signin/facebook\")\n//   .then(result => {\n//     console.log(\"fb\", result);\n//     const { token, user } = result;\n//     setAuthrizationHeader(token);\n//     dispatch(getUserData());\n//     dispatch({ type: CLEAR_ERRORS });\n//     history.push(\"/my-backlog\");\n//   })\n//   .catch(err => {\n//     dispatch({\n//       type: SET_ERRORS,\n//       payload: err.response.data\n//     });\n//   });\n};};export var signupUser=function signupUser(newUserData,history){return function(dispatch){dispatch({type:LOADING_UI});axios.post(\"/signup\",newUserData).then(function(){dispatch(getUserData());dispatch({type:CLEAR_ERRORS});history.push(\"/login\");}).catch(function(err){dispatch({type:SET_ERRORS,payload:err.response.data});});};};export var logoutUser=function logoutUser(){return function(dispatch){localStorage.removeItem(\"firebaseIdToken\");delete axios.defaults.headers.common[\"Authorization\"];dispatch({type:SET_UNAUTHENTICATED});};};export var getUserData=function getUserData(){return function(dispatch){dispatch({type:LOADING_USER});axios.get(\"/user\").then(function(result){dispatch({type:SET_USER,payload:result.data});}).catch(function(err){return console.log(err);});};};export var sendPasswordResetEmail=function sendPasswordResetEmail(i_Email){return function(dispatch){dispatch({type:LOADING_UI});var resetPasswordRequest={email:i_Email};axios.post(\"/user/reset-password\",resetPasswordRequest).then(function(){dispatch({type:CLEAR_ERRORS});window.alert(\"You should recieve password reset instructions \".concat(resetPasswordRequest.email,\" shortly\"));}).catch(function(err){dispatch({type:SET_ERRORS,payload:err.response.data});console.log(err);});};};export var sendEmailVerification=function sendEmailVerification(){return function(dispatch){dispatch({type:LOADING_UI});return new Promise(function(resolve,reject){axios.post(\"/user/email-verification\").then(function(){dispatch({type:CLEAR_ERRORS});dispatch(getUserData());var emailVerificationMsg=\"Email verification instructions sent.\";window.alert(emailVerificationMsg);resolve(true);}).catch(function(err){dispatch({type:SET_ERRORS,payload:err.response.data});console.log(err);reject(false);});});};};export var updateUserPassword=function updateUserPassword(i_UpdateRequest){return function(dispatch){dispatch({type:LOADING_UI});var updateRequest={email:i_UpdateRequest.email,currentPassword:i_UpdateRequest.currentPassword,newPassword:i_UpdateRequest.newPassword,confirmNewPassword:i_UpdateRequest.confirmNewPassword};return new Promise(function(resolve,reject){axios.post(\"/user/update-password\",updateRequest).then(function(){dispatch({type:CLEAR_ERRORS});dispatch(getUserData());var updateSuccessfullMsg=\"Password updated successfully\";window.alert(updateSuccessfullMsg);resolve(true);}).catch(function(err){dispatch({type:SET_ERRORS,payload:err.response.data});console.log(err);reject(false);});});};};export var updateGames=function updateGames(username,gameList){return function(dispatch){dispatch({type:LOADING_USER});var updateRequest={username:username,games:gameList};axios.post(\"user/games/update\",updateRequest).then(function(){dispatch(getUserData());dispatch({type:CLEAR_ERRORS});}).catch(function(err){return console.log(err);});};};export var deleteAccount=function deleteAccount(i_Username){return function(dispatch){dispatch({type:LOADING_USER});axios.post(\"user/delete\",i_Username).then(function(){dispatch(logoutUser());}).catch(function(err){return console.log(err);});};};var setAuthrizationHeader=function setAuthrizationHeader(token){var firebaseIdToken=\"Bearer \".concat(token);localStorage.setItem(\"firebaseIdToken\",firebaseIdToken);axios.defaults.headers.common[\"Authorization\"]=firebaseIdToken;};","map":{"version":3,"sources":["/Users/Idan/Projects/Dev/GitHub/BCKLG/src/redux/actions/userActions.js"],"names":["SET_USER","SET_ERRORS","CLEAR_ERRORS","LOADING_UI","LOADING_USER","SET_UNAUTHENTICATED","axios","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firebase","require","initializeApp","loginUser","userData","history","dispatch","type","post","then","result","setAuthrizationHeader","data","token","getUserData","push","catch","err","payload","response","signInWithFacebook","provider","auth","FacebookAuthProvider","signInWithPopup","credential","accessToken","user","console","log","error","signupUser","newUserData","logoutUser","localStorage","removeItem","defaults","headers","common","get","sendPasswordResetEmail","i_Email","resetPasswordRequest","email","window","alert","sendEmailVerification","Promise","resolve","reject","emailVerificationMsg","updateUserPassword","i_UpdateRequest","updateRequest","currentPassword","newPassword","confirmNewPassword","updateSuccessfullMsg","updateGames","username","gameList","games","deleteAccount","i_Username","firebaseIdToken","setItem"],"mappings":"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","sourcesContent":["import {\n  SET_USER,\n  SET_ERRORS,\n  CLEAR_ERRORS,\n  LOADING_UI,\n  LOADING_USER,\n  SET_UNAUTHENTICATED\n} from \"../types\";\nimport axios from \"axios\";\n\nconst config = {\n  apiKey: \"AIzaSyBk066lHfZjW5w5vgzUAjXfIeVhvyqZiLE\",\n  authDomain: \"bcklg-6b059.firebaseapp.com\",\n  databaseURL: \"https://bcklg-6b059.firebaseio.com\",\n  projectId: \"bcklg-6b059\",\n  storageBucket: \"bcklg-6b059.appspot.com\",\n  messagingSenderId: \"337945780002\",\n  appId: \"1:337945780002:web:d4d3fbc3659c7094a58f7b\",\n  measurementId: \"G-13G073NX99\"\n};\nconst firebase = require(\"firebase\");\nfirebase.initializeApp(config);\n\nexport const loginUser = (userData, history) => dispatch => {\n  dispatch({ type: LOADING_UI });\n  axios\n    .post(\"/login\", userData)\n    .then(result => {\n      setAuthrizationHeader(result.data.token);\n      dispatch(getUserData());\n      dispatch({ type: CLEAR_ERRORS });\n      history.push(\"/my-backlog\");\n    })\n    .catch(err => {\n      dispatch({\n        type: SET_ERRORS,\n        payload: err.response.data\n      });\n    });\n};\n\nexport const signInWithFacebook = history => dispatch => {\n  const provider = new firebase.auth.FacebookAuthProvider();\n\n  firebase\n    .auth()\n    .signInWithPopup(provider)\n    .then(result => {\n      const token = result.credential.accessToken;\n      const user = result.user;\n\n      console.log(\"reuslt\", result);\n\n      return { token, user };\n    })\n    .then(data => {\n      const { token, user } = data;\n\n      console.log(\"data\", data);\n\n      setAuthrizationHeader(token);\n      dispatch(getUserData());\n      dispatch({ type: CLEAR_ERRORS });\n      history.push(\"/my-backlog\");\n    })\n    .catch(err => {\n      console.error(err);\n    });\n\n  // axios\n  //   .get(\"/signin/facebook\")\n  //   .then(result => {\n  //     console.log(\"fb\", result);\n  //     const { token, user } = result;\n  //     setAuthrizationHeader(token);\n  //     dispatch(getUserData());\n  //     dispatch({ type: CLEAR_ERRORS });\n  //     history.push(\"/my-backlog\");\n  //   })\n  //   .catch(err => {\n  //     dispatch({\n  //       type: SET_ERRORS,\n  //       payload: err.response.data\n  //     });\n  //   });\n};\n\nexport const signupUser = (newUserData, history) => dispatch => {\n  dispatch({ type: LOADING_UI });\n  axios\n    .post(\"/signup\", newUserData)\n    .then(() => {\n      dispatch(getUserData());\n      dispatch({ type: CLEAR_ERRORS });\n      history.push(\"/login\");\n    })\n    .catch(err => {\n      dispatch({\n        type: SET_ERRORS,\n        payload: err.response.data\n      });\n    });\n};\n\nexport const logoutUser = () => dispatch => {\n  localStorage.removeItem(\"firebaseIdToken\");\n  delete axios.defaults.headers.common[\"Authorization\"];\n  dispatch({ type: SET_UNAUTHENTICATED });\n};\n\nexport const getUserData = () => dispatch => {\n  dispatch({ type: LOADING_USER });\n\n  axios\n    .get(\"/user\")\n    .then(result => {\n      dispatch({\n        type: SET_USER,\n        payload: result.data\n      });\n    })\n    .catch(err => console.log(err));\n};\n\nexport const sendPasswordResetEmail = i_Email => dispatch => {\n  dispatch({ type: LOADING_UI });\n\n  const resetPasswordRequest = {\n    email: i_Email\n  };\n\n  axios\n    .post(\"/user/reset-password\", resetPasswordRequest)\n    .then(() => {\n      dispatch({ type: CLEAR_ERRORS });\n      window.alert(\n        `You should recieve password reset instructions ${resetPasswordRequest.email} shortly`\n      );\n    })\n    .catch(err => {\n      dispatch({\n        type: SET_ERRORS,\n        payload: err.response.data\n      });\n      console.log(err);\n    });\n};\n\nexport const sendEmailVerification = () => dispatch => {\n  dispatch({ type: LOADING_UI });\n\n  return new Promise((resolve, reject) => {\n    axios\n      .post(\"/user/email-verification\")\n      .then(() => {\n        dispatch({ type: CLEAR_ERRORS });\n        dispatch(getUserData());\n        let emailVerificationMsg = \"Email verification instructions sent.\";\n        window.alert(emailVerificationMsg);\n        resolve(true);\n      })\n      .catch(err => {\n        dispatch({\n          type: SET_ERRORS,\n          payload: err.response.data\n        });\n        console.log(err);\n        reject(false);\n      });\n  });\n};\n\nexport const updateUserPassword = i_UpdateRequest => dispatch => {\n  dispatch({ type: LOADING_UI });\n\n  const updateRequest = {\n    email: i_UpdateRequest.email,\n    currentPassword: i_UpdateRequest.currentPassword,\n    newPassword: i_UpdateRequest.newPassword,\n    confirmNewPassword: i_UpdateRequest.confirmNewPassword\n  };\n\n  return new Promise((resolve, reject) => {\n    axios\n      .post(\"/user/update-password\", updateRequest)\n      .then(() => {\n        dispatch({ type: CLEAR_ERRORS });\n        dispatch(getUserData());\n        let updateSuccessfullMsg = \"Password updated successfully\";\n        window.alert(updateSuccessfullMsg);\n        resolve(true);\n      })\n      .catch(err => {\n        dispatch({\n          type: SET_ERRORS,\n          payload: err.response.data\n        });\n        console.log(err);\n        reject(false);\n      });\n  });\n};\n\nexport const updateGames = (username, gameList) => dispatch => {\n  dispatch({ type: LOADING_USER });\n  const updateRequest = {\n    username: username,\n    games: gameList\n  };\n  axios\n    .post(\"user/games/update\", updateRequest)\n    .then(() => {\n      dispatch(getUserData());\n      dispatch({ type: CLEAR_ERRORS });\n    })\n    .catch(err => console.log(err));\n};\n\nexport const deleteAccount = i_Username => dispatch => {\n  dispatch({ type: LOADING_USER });\n  axios\n    .post(\"user/delete\", i_Username)\n    .then(() => {\n      dispatch(logoutUser());\n    })\n    .catch(err => console.log(err));\n};\n\nconst setAuthrizationHeader = token => {\n  const firebaseIdToken = `Bearer ${token}`;\n  localStorage.setItem(\"firebaseIdToken\", firebaseIdToken);\n  axios.defaults.headers.common[\"Authorization\"] = firebaseIdToken;\n};\n"]},"metadata":{},"sourceType":"module"}