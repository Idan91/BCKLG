{"ast":null,"code":"const {\n  pather,\n  fetchPage,\n  single,\n  collection\n} = require('./utils');\n\nconst formatters = require('./formatters');\n\nconst gamesPather = pather('games');\n\nconst search = fetcher => async game => {\n  const path = gamesPather('', null, `?page_size=20&page=1&search=${game}`);\n  const json = await fetcher.get(path);\n  const formatted = json.results.map(formatters.formatGame);\n  console.log('json');\n  return collection(fetcher)(json, formatted, formatters.formatGame);\n};\n\nconst get = fetcher => async slug => {\n  const path = gamesPather(slug);\n  const json = await fetcher.get(path);\n  const formatted = formatters.formatGame(json);\n  return single(fetcher)(json, formatted);\n};\n\nconst games = fetcher => ({\n  search: search(fetcher),\n  get: get(fetcher)\n});\n\nmodule.exports = fetcher => games(fetcher);","map":{"version":3,"sources":["/Users/Idan/Documents/GitHub/Idan91/BCKLG/bcklg/node_modules/rawger/src/games.js"],"names":["pather","fetchPage","single","collection","require","formatters","gamesPather","search","fetcher","game","path","json","get","formatted","results","map","formatGame","console","log","slug","games","module","exports"],"mappings":"AAAA,MAAM;AAAEA,EAAAA,MAAF;AAAUC,EAAAA,SAAV;AAAqBC,EAAAA,MAArB;AAA6BC,EAAAA;AAA7B,IAA4CC,OAAO,CAAC,SAAD,CAAzD;;AACA,MAAMC,UAAU,GAAGD,OAAO,CAAC,cAAD,CAA1B;;AAEA,MAAME,WAAW,GAAGN,MAAM,CAAC,OAAD,CAA1B;;AAEA,MAAMO,MAAM,GAAGC,OAAO,IAAI,MAAMC,IAAN,IAAc;AACtC,QAAMC,IAAI,GAAGJ,WAAW,CAAC,EAAD,EAAK,IAAL,EAAY,+BAA8BG,IAAK,EAA/C,CAAxB;AACA,QAAME,IAAI,GAAG,MAAMH,OAAO,CAACI,GAAR,CAAYF,IAAZ,CAAnB;AAEA,QAAMG,SAAS,GAAGF,IAAI,CAACG,OAAL,CAAaC,GAAb,CAAiBV,UAAU,CAACW,UAA5B,CAAlB;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACA,SAAOf,UAAU,CAACK,OAAD,CAAV,CAAoBG,IAApB,EAA0BE,SAA1B,EAAqCR,UAAU,CAACW,UAAhD,CAAP;AACD,CAPD;;AASA,MAAMJ,GAAG,GAAGJ,OAAO,IAAI,MAAMW,IAAN,IAAc;AACnC,QAAMT,IAAI,GAAGJ,WAAW,CAACa,IAAD,CAAxB;AACA,QAAMR,IAAI,GAAG,MAAMH,OAAO,CAACI,GAAR,CAAYF,IAAZ,CAAnB;AAEA,QAAMG,SAAS,GAAGR,UAAU,CAACW,UAAX,CAAsBL,IAAtB,CAAlB;AACA,SAAOT,MAAM,CAACM,OAAD,CAAN,CAAgBG,IAAhB,EAAsBE,SAAtB,CAAP;AACD,CAND;;AAQA,MAAMO,KAAK,GAAGZ,OAAO,KAAK;AACxBD,EAAAA,MAAM,EAAEA,MAAM,CAACC,OAAD,CADU;AAExBI,EAAAA,GAAG,EAAEA,GAAG,CAACJ,OAAD;AAFgB,CAAL,CAArB;;AAKAa,MAAM,CAACC,OAAP,GAAiBd,OAAO,IAAIY,KAAK,CAACZ,OAAD,CAAjC","sourcesContent":["const { pather, fetchPage, single, collection } = require('./utils');\nconst formatters = require('./formatters');\n\nconst gamesPather = pather('games');\n\nconst search = fetcher => async game => {\n  const path = gamesPather('', null, `?page_size=20&page=1&search=${game}`);\n  const json = await fetcher.get(path);\n\n  const formatted = json.results.map(formatters.formatGame);\n  console.log('json');\n  return collection(fetcher)(json, formatted, formatters.formatGame);\n};\n\nconst get = fetcher => async slug => {\n  const path = gamesPather(slug);\n  const json = await fetcher.get(path);\n\n  const formatted = formatters.formatGame(json);\n  return single(fetcher)(json, formatted);\n};\n\nconst games = fetcher => ({\n  search: search(fetcher),\n  get: get(fetcher)\n});\n\nmodule.exports = fetcher => games(fetcher);\n"]},"metadata":{},"sourceType":"script"}