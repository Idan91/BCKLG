{"ast":null,"code":"var _jsxFileName = \"/Users/Idan/Projects/Dev/GitHub/BCKLG/src/components/Home Pages/login.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Logo from \"../UI Elements/Logo\";\nimport PropTypes from \"prop-types\"; // Redux\n\nimport { connect } from \"react-redux\";\nimport { loginUser, sendPasswordResetEmail } from \"../../redux/actions/userActions\";\n\nclass login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      email: \"\",\n      emailForgot: \"\",\n      password: \"\",\n      errors: {},\n      forgotVisible: false\n    };\n\n    this.handleInputChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.handleKeyDown = event => {\n      if (event.keyCode === 13) {\n        this.handleSubmit(event);\n      }\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      const userData = {\n        email: this.state.email,\n        password: this.state.password\n      };\n      this.props.loginUser(userData, this.props.history);\n    };\n\n    this.handleForgotPassword = () => {\n      this.setState({\n        forgotVisible: !this.state.forgotVisible\n      });\n    };\n\n    this.handleResetEmail = event => {\n      event.preventDefault();\n      const email = this.state.emailForgot;\n\n      try {\n        this.props.sendPasswordResetEmail(email);\n      } catch (err) {\n        alert(err);\n        console.log(err);\n      }\n    };\n\n    this.renderForgotPassword = i_Errors => {\n      const {\n        UI: {\n          loading\n        }\n      } = this.props;\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"login-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        className: \"sub-page-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \"Forgot Password\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"form-description-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"form-description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"Please enter your email and we'll send you instructions on how to reset your password\")), React.createElement(\"form\", {\n        onSubmit: this.handleResetEmail,\n        className: \"form login-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, this.state.emailForgot !== \"\" && React.createElement(\"p\", {\n        className: \"field-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"Email\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"userdata-input\",\n        name: \"emailForgot\",\n        placeholder: \"Email\",\n        value: this.state.emailForgot,\n        onChange: this.handleInputChange,\n        onKeyDown: this.handleKeyDown,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }), i_Errors.emailForgot && React.createElement(\"p\", {\n        className: \"helper-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, i_Errors.emailForgot), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"loader-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, loading && React.createElement(\"div\", {\n        className: \"loader\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      })), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"btn btn-submit link\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, \"Submit\")), i_Errors.general && React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"error-msg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, i_Errors.general), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      })), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"btn btn-sml btn-gray link\",\n        onClick: this.handleForgotPassword,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"Cancel\")));\n    };\n\n    this.renderLoginForm = (i_Errors, i_Loading) => {\n      return React.createElement(\"div\", {\n        className: \"login-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        className: \"form login-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, this.state.email !== \"\" && React.createElement(\"p\", {\n        className: \"field-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, \"Email\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"userdata-input\",\n        name: \"email\",\n        placeholder: \"Email\",\n        value: this.state.email,\n        onChange: this.handleInputChange,\n        onKeyDown: this.handleKeyDown,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }), i_Errors.email && React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"helper-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, i_Errors.email), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      })), this.state.password !== \"\" && React.createElement(\"p\", {\n        className: \"field-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, \"Password\"), React.createElement(\"input\", {\n        type: \"password\",\n        className: \"userdata-input\",\n        name: \"password\",\n        placeholder: \"Password\",\n        value: this.state.password,\n        onChange: this.handleInputChange,\n        onKeyDown: this.handleKeyDown,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }), i_Errors.password && React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        className: \"helper-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, i_Errors.password), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      })), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }), i_Loading && React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"loader-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"loader\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"btn btn-submit link\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, \"Login\"), i_Errors.general && React.createElement(\"p\", {\n        className: \"error-msg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, i_Errors.general)), React.createElement(\"button\", {\n        className: \"btn btn-sml btn-gray link\",\n        onClick: this.handleForgotPassword,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, \"Forgot Password\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"body-question\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, \"Don't have an account? \"), \" \", React.createElement(Link, {\n        to: \"/sign-up\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, \"Sign up here\")));\n    };\n\n    this.renderLoginPage = () => {\n      const {\n        errors\n      } = this.state;\n      const {\n        UI: {\n          loading\n        }\n      } = this.props;\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"page-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"center-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, React.createElement(Logo, {\n        currentPage: \"Login\",\n        logoType: \"vert\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"btn btn-facebook link\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        class: \"fab fa-facebook-f\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }), \"\\xA0\\xA0\\xA0\\xA0Sign in with Facebook\")), this.state.forgotVisible ? this.renderForgotPassword(errors) : this.renderLoginForm(errors, loading)));\n    };\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps.UI.errors) {\n      this.setState({\n        errors: nextProps.UI.errors\n      });\n    }\n  }\n\n  render() {\n    return this.renderLoginPage();\n  }\n\n}\n\nlogin.propTypes = {\n  loginUser: PropTypes.func.isRequired,\n  sendPasswordResetEmail: PropTypes.func.isRequired,\n  user: PropTypes.object.isRequired,\n  UI: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  user: state.user,\n  UI: state.UI\n});\n\nconst mapActionsToProps = {\n  loginUser,\n  sendPasswordResetEmail\n};\nexport default connect(mapStateToProps, mapActionsToProps)(login);","map":{"version":3,"sources":["/Users/Idan/Projects/Dev/GitHub/BCKLG/src/components/Home Pages/login.js"],"names":["React","Component","Link","Logo","PropTypes","connect","loginUser","sendPasswordResetEmail","login","state","email","emailForgot","password","errors","forgotVisible","handleInputChange","event","setState","target","name","value","handleKeyDown","keyCode","handleSubmit","preventDefault","userData","props","history","handleForgotPassword","handleResetEmail","err","alert","console","log","renderForgotPassword","i_Errors","UI","loading","general","renderLoginForm","i_Loading","renderLoginPage","UNSAFE_componentWillReceiveProps","nextProps","render","propTypes","func","isRequired","user","object","mapStateToProps","mapActionsToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Logo from \"../UI Elements/Logo\";\nimport PropTypes from \"prop-types\";\n// Redux\nimport { connect } from \"react-redux\";\nimport {\n  loginUser,\n  sendPasswordResetEmail\n} from \"../../redux/actions/userActions\";\n\nclass login extends Component {\n  state = {\n    email: \"\",\n    emailForgot: \"\",\n    password: \"\",\n    errors: {},\n    forgotVisible: false\n  };\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps.UI.errors) {\n      this.setState({\n        errors: nextProps.UI.errors\n      });\n    }\n  }\n\n  handleInputChange = event => {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  };\n\n  handleKeyDown = event => {\n    if (event.keyCode === 13) {\n      this.handleSubmit(event);\n    }\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n    const userData = {\n      email: this.state.email,\n      password: this.state.password\n    };\n    this.props.loginUser(userData, this.props.history);\n  };\n\n  handleForgotPassword = () => {\n    this.setState({\n      forgotVisible: !this.state.forgotVisible\n    });\n  };\n\n  handleResetEmail = event => {\n    event.preventDefault();\n    const email = this.state.emailForgot;\n\n    try {\n      this.props.sendPasswordResetEmail(email);\n    } catch (err) {\n      alert(err);\n      console.log(err);\n    }\n  };\n\n  renderForgotPassword = i_Errors => {\n    const {\n      UI: { loading }\n    } = this.props;\n\n    return (\n      <React.Fragment>\n        <div className=\"login-container\">\n          <h2 className=\"sub-page-title\">Forgot Password</h2>\n          <br />\n          <div className=\"form-description-container\">\n            <p className=\"form-description\">\n              Please enter your email and we'll send you instructions on how to\n              reset your password\n            </p>\n          </div>\n          <form onSubmit={this.handleResetEmail} className=\"form login-form\">\n            {this.state.emailForgot !== \"\" && (\n              <p className=\"field-label\">Email</p>\n            )}\n            <input\n              type=\"text\"\n              className=\"userdata-input\"\n              name=\"emailForgot\"\n              placeholder=\"Email\"\n              value={this.state.emailForgot}\n              onChange={this.handleInputChange}\n              onKeyDown={this.handleKeyDown}\n            ></input>\n            {i_Errors.emailForgot && (\n              <p className=\"helper-text\">{i_Errors.emailForgot}</p>\n            )}\n            <br />\n            <div className=\"loader-container\">\n              {loading && <div className=\"loader\" />}\n            </div>\n            <br />\n            <button className=\"btn btn-submit link\">Submit</button>\n          </form>\n          {i_Errors.general && (\n            <React.Fragment>\n              <p className=\"error-msg\">{i_Errors.general}</p>\n              <br />\n            </React.Fragment>\n          )}\n          <br />\n          <button\n            className=\"btn btn-sml btn-gray link\"\n            onClick={this.handleForgotPassword}\n          >\n            Cancel\n          </button>\n        </div>\n      </React.Fragment>\n    );\n  };\n\n  renderLoginForm = (i_Errors, i_Loading) => {\n    return (\n      <div className=\"login-container\">\n        <form onSubmit={this.handleSubmit} className=\"form login-form\">\n          {this.state.email !== \"\" && <p className=\"field-label\">Email</p>}\n          <input\n            type=\"text\"\n            className=\"userdata-input\"\n            name=\"email\"\n            placeholder=\"Email\"\n            value={this.state.email}\n            onChange={this.handleInputChange}\n            onKeyDown={this.handleKeyDown}\n          ></input>\n          <br />\n          {i_Errors.email && (\n            <React.Fragment>\n              <p className=\"helper-text\">{i_Errors.email}</p>\n              <br />\n            </React.Fragment>\n          )}\n          {this.state.password !== \"\" && (\n            <p className=\"field-label\">Password</p>\n          )}\n          <input\n            type=\"password\"\n            className=\"userdata-input\"\n            name=\"password\"\n            placeholder=\"Password\"\n            value={this.state.password}\n            onChange={this.handleInputChange}\n            onKeyDown={this.handleKeyDown}\n          ></input>\n          {i_Errors.password && (\n            <React.Fragment>\n              <p className=\"helper-text\">{i_Errors.password}</p>\n              <br />\n            </React.Fragment>\n          )}\n          <br />\n          {i_Loading && (\n            <React.Fragment>\n              <div className=\"loader-container\">\n                <div className=\"loader\" />\n              </div>\n            </React.Fragment>\n          )}\n          <br />\n          <button className=\"btn btn-submit link\">Login</button>\n          {i_Errors.general && <p className=\"error-msg\">{i_Errors.general}</p>}\n        </form>\n        <button\n          className=\"btn btn-sml btn-gray link\"\n          onClick={this.handleForgotPassword}\n        >\n          Forgot Password\n        </button>\n        <br />\n        <br />\n        <div className=\"body-question\">\n          <span>Don't have an account? </span>{\" \"}\n          <Link to=\"/sign-up\">Sign up here</Link>\n        </div>\n      </div>\n    );\n  };\n\n  renderLoginPage = () => {\n    const { errors } = this.state;\n    const {\n      UI: { loading }\n    } = this.props;\n\n    return (\n      <React.Fragment>\n        <div className=\"page-container\">\n          <div className=\"center-container\">\n            <Logo currentPage=\"Login\" logoType=\"vert\" />\n            <br />\n            <br />\n            <button className=\"btn btn-facebook link\">\n              <i class=\"fab fa-facebook-f\"></i>\n              &nbsp;&nbsp;&nbsp;&nbsp;Sign in with Facebook\n            </button>\n          </div>\n          {this.state.forgotVisible\n            ? this.renderForgotPassword(errors)\n            : this.renderLoginForm(errors, loading)}\n        </div>\n      </React.Fragment>\n    );\n  };\n\n  render() {\n    return this.renderLoginPage();\n  }\n}\n\nlogin.propTypes = {\n  loginUser: PropTypes.func.isRequired,\n  sendPasswordResetEmail: PropTypes.func.isRequired,\n  user: PropTypes.object.isRequired,\n  UI: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  user: state.user,\n  UI: state.UI\n});\n\nconst mapActionsToProps = {\n  loginUser,\n  sendPasswordResetEmail\n};\n\nexport default connect(mapStateToProps, mapActionsToProps)(login);\n"]},"metadata":{},"sourceType":"module"}